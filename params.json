{"name":"Django Formset JavaScript","tagline":"Dynamic Django formsets","body":"django-formset-js\r\n=================\r\n\r\nA wrapper for a JavaScript formset helper.\r\n\r\nInstalling\r\n----------\r\n\r\nInstall via pip:\r\n\r\n    $ pip install django-formset-js\r\n\r\nThen add it and its dependancy `django-jquery-js`\r\nto your `INSTALLED_APPS`:\r\n\r\n```python\r\nINSTALLED_APPS += (\r\n    'django.contrib.staticfiles',\r\n    'jquery',\r\n    'djangoformsetjs',\r\n)\r\n```\r\n\r\nUsing\r\n-----\r\n\r\n### Include the JavaScript library\r\n\r\nBoth jQuery and this library must be included in your page.\r\nThe simplest way to do this is to add the scripts as media dependencies on your form:\r\n\r\n```python\r\nfrom djangoformsetjs.utils import formset_media_js\r\n\r\nclass MyForm(forms.Form):\r\n    class Media(object):\r\n        js = formset_media_js + (\r\n            # Other form media here\r\n        )\r\n\r\nMyFormSet = formset_factory(MyForm)\r\n```\r\n\r\nAnd then include the Media of the form in your template:\r\n\r\n    {{ formset.media }}\r\n\r\nAlternatively, simply add the script tags:\r\n\r\n```html\r\n<script src=\"{{ STATIC_URL }}js/jquery.js\"></script>\r\n<script src=\"{{ STATIC_URL }}js/jquery.formset.js\"></script>\r\n```\r\n\r\n### Render the formset\r\n\r\nSo that the library can work with your formset,\r\ncertain blocks of your formset need to be marked up with `data-formset-...` attributes:\r\n\r\n```html\r\n{% load formset_tags %}\r\n\r\n<div id=\"formset\" data-formset-prefix=\"{{ formset.prefix }}\">\r\n    {{ formset.management_form }}\r\n\r\n    <div data-formset-body>\r\n        <!-- New forms will be inserted in here -->\r\n        {% for form in formset %}\r\n            <div data-formset-form>\r\n                {{ form }}\r\n                <button type=\"button\" data-formset-delete-button>Delete form</button>\r\n            </div>\r\n        {% endfor %}\r\n    </div>\r\n\r\n    <!-- The empty form template. By wrapping this in a <script> tag, the\r\n    __prefix__ placeholder can easily be replaced in both attributes and\r\n    any scripts -->\r\n    <script type=\"form-template\" data-formset-empty-form>\r\n        {% escapescript %}\r\n            <div data-formset-form>\r\n                {{ formset.empty_form }}\r\n                <button type=\"button\" data-formset-delete-button>Delete form</button>\r\n            </div>\r\n        {% endescapescript %}\r\n    </script>\r\n\r\n    <!-- This button will add a new form when clicked -->\r\n    <input type=\"button\" value=\"Add another\" data-formset-add>\r\n\r\n    <script>jQuery(function($) {\r\n        $(\"#formset\").formset({\r\n            animateForms: true\r\n        });\r\n    });</script>\r\n\r\n</div>\r\n```\r\n\r\nThe `data-formset-` data attributes are:\r\n\r\n* `data-formset-prefix`:\r\n  The value of `{{ formset.prefix }}`.\r\n  This is used to find the management form.\r\n\r\n* `data-formset-body`:\r\n  This indicates where all the child forms are.\r\n  New forms are inserted in here.\r\n\r\n* `data-formset-form`:\r\n  Every form (including the empty form) should have this attribute.\r\n\r\n* `data-formset-empty-form`:\r\n  The element that contains the empty form template.\r\n  For best results, use a `<script>` tag.\r\n\r\n* `data-formset-add`:\r\n  A button that adds a new form.\r\n\r\n* `data-formset-delete-button`:\r\n  A button that deletes that form.\r\n\r\nThe empty form template is wrapped in a `<script>` as plain text.\r\nThis stops any JavaScript attached to widgets from running upon page load,\r\nand makes finding and replacing the `__prefix__` placeholder easier.\r\nThe contents of the `<script>` should be wrapped in a `{% escapescript %}` block\r\nto prevent any script tags inside from closing the wrapping script tag prematurely.\r\n\r\nIf the forms can be deleted, and contain a delete checkbox,\r\nthe following actions occur:\r\n\r\n* When the checkbox is checked, marking the form for deletion,\r\n  the `formDeleted` event is fired on the `data-formset-form` container,\r\n  and the `data-formset-form-deleted` attribute is added.\r\n\r\n* When the checkbox is unchecked, marking the form as active again,\r\n  the `formAdded` event is fired on the `data-formset-form` container,\r\n  and the `data-formset-form-deleted` attribute is removed.\r\n\r\nIf the forms can be deleted, and contain a delete button,\r\npressing the delete button will toggle the delete checkbox for that form.\r\nThe `DELETE` field should be hidden if the delete button is used.\r\nThe delete button is identified by the `data-formset-delete-button` attribute::\r\n\r\n```html\r\n{% for form in formset %}\r\n    <div data-formset-form>\r\n        {{ form.name }}\r\n        {{ form.age }}\r\n\r\n        <div class=\"hidden\">{{ form.DELETE }}</div>\r\n        <button type=\"button\" data-formset-delete-button>Delete form</button>\r\n    </div>\r\n{% endfor %}\r\n```\r\n\r\nIf the `animateForms` option is set when the formset is created,\r\nadding and deleting forms will be animated by sliding the forms in and out.\r\n\r\nOptions\r\n*******\r\n\r\nThe jQuery plugin takes the following options:\r\n\r\n* `form`:\r\n  The selector to find forms.\r\n  Defaults to `[data-formset-form]`.\r\n\r\n* `emptyForm`:\r\n  The selector to find the empty form template.\r\n  Defaults to `script[type=form-template][data-formset-empty-form]`.\r\n\r\n* `body`:\r\n  The selector to find the formset body.\r\n  New forms will be inserted at the bottom of this element.\r\n  Defaults to `[data-formset-body]`.\r\n\r\n* `add`:\r\n  The selector to find the add button.\r\n  Defaults to `[data-formset-add]`.\r\n\r\n* `deleteButton`:\r\n  The selector to find the delete button within a form.\r\n  Defaults to `[data-formset-delete-button]`.\r\n\r\n* `hasMaxFormsClass`:\r\n  The class added to the formset when the maximum number of forms is reached.\r\n  The maximum number of forms is pulled from the management form.\r\n  Defaults to `has-max-forms`.\r\n\r\n* `animateForms`:\r\n  Whether to animate form addition/deletion.\r\n  Defaults to `false`.\r\n\r\n\r\nExample\r\n-------\r\n\r\nA minimal example project is provided in the `example/` directory.\r\nRead `example/README` for more information\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}